{%  extends 'auctions/userregister.html' %}
{% block extracdn %}
{% endblock %}
{% block addtitle %}
this is my metrics
{% endblock %}
{% block registeruser %}
<a> this is some information </a>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4"></script>
<div class="col-6">
<canvas id="chart" width="150" height="150"></canvas>
<div>
<script type="text/javascript">
   function createChar(lengthmage){

   let ctx = document.getElementById("chart").getContext("2d");

let chart = new Chart(ctx, {
  type: "bar",
  data: {
     labels: ["2020/Q1", "2020/Q2", "2020/Q3", "2020/Q4"],
     datasets: [
        {
          label: "Gross volume ($)",
          backgroundColor: "#79AEC8",
          borderColor: "#417690",
          data: [lengthmage , 5,  5, 20]
        }
     ]
  },
  options: {
     title: {
        text: "Gross Volume in 2020",
        display: true
     },
         scales: {
        yAxes: [{
            ticks: {
                beginAtZero:true
            }
        }]
    }
   }
});
   }
                var myListings 
               fetch('{% url 'getdata' %}')
                                  .then(response => response.json())
                                  .then(data => myListings = JSON.parse(data))
                                 .then(data=>createChar(myListings.length))
                          .catch(err=> console.log("this is an error"))


            </script>


</div>



 {% endblock %}
